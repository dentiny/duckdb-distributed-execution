# name: test/sql/test_extension_loading.test
# description: Test extension load on server side
# group: [sql]

require duckherder

statement ok
SELECT duckherder_start_local_server(8815);

statement ok
ATTACH DATABASE '' AS dh (TYPE duckherder, server_host 'localhost', server_port 8815);

query II
SELECT extension_name, loaded  FROM duckdb_extensions() WHERE extension_name = 'azure';
----
azure	false

statement ok
SELECT duckherder_load_extension('azure');

query III
SELECT extension_name, loaded, installed  FROM duckdb_extensions() WHERE extension_name = 'azure';
----
azure	true	true
